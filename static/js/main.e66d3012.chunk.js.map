{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","reducer.js","context.js","components/GoodsItem.jsx","components/GoodList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","reducer","state","action","type","payload","isBasketShow","loading","current","data","order","addToBasket","newOrder","alertName","removeFromBasket","totally","name","newArr","idx","findIndex","el","quantity","filter","orderedItemName","foundItem","item","price","push","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","setAlertName","itemId","setData","setLoading","setBasketShow","Provider","GoodsItem","props","useContext","description","full_background","src","alt","onClick","style","fontSize","GoodList","goods","map","Cart","length","orderDetails","sum","BasketItem","BasketList","Alert","useEffect","timerId","setTimeout","clearTimeout","opacity","Shop","fetch","headers","Authorization","process","then","res","json","newData","featured","catch","error","reduce","acc","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4LAAA,SAASA,IACP,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBACEC,KAAK,yDACLD,UAAU,aAFZ,2BAMA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBAAGC,KAAK,yDAAR,2BCZZ,SAASE,IACP,OACE,wBAAQH,UAAU,8BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAII,MAAOC,cADhB,kBAEE,mBAAGL,UAAU,iCAAiCC,KAAK,KAAnD,yB,WCNV,SAASK,IACP,OACE,qBAAKN,UAAU,WAAf,SACE,qBAAKA,UAAU,oB,kBCHd,SAASO,EAAQC,EAAOC,GAC7B,IAAQC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OAAQD,GACN,IAAK,iBACH,OAAO,2BACFF,GADL,IAEEI,cAAeJ,EAAMI,eAEzB,IAAK,cACH,OAAO,2BAAKJ,GAAZ,IAAmBK,QAASF,EAAQG,UACtC,IAAK,WACH,OAAO,2BAAKN,GAAZ,IAAmBO,KAAMJ,EAAQI,MAAQ,KAC3C,IAAK,gBACH,OAAO,2BACFP,GADL,IAEEQ,MAAOC,EAAYN,EAAQT,GAAIM,EAAMO,KAAMP,EAAMQ,OAAOE,SACxDC,UAAWF,EAAYN,EAAQT,GAAIM,EAAMO,KAAMP,EAAMQ,OAAOG,YAEhE,IAAK,qBACH,OAAO,2BACFX,GADL,IAEEQ,MAAOI,EAAiBT,EAAQT,GAAIM,EAAMQ,MAAOL,EAAQU,WAE7D,IAAK,gBACH,OAAO,2BAAKb,GAAZ,IAAmBW,UAAWR,EAAQW,OACxC,IAAK,cACH,OAAO,2BAAKd,GAAZ,IAAmBW,UAAW,KAChC,QACE,OAAOX,GAIb,SAASY,EAAiBlB,EAAIc,GAAyB,IAAlBK,EAAiB,wDAChDE,EAAM,YAAOP,GACXQ,EAAMD,EAAOE,WAAU,SAACC,GAAD,OAAQA,EAAGxB,KAAOA,KAO/C,OALImB,GAAoC,IAAzBE,EAAOC,GAAKG,SACzBJ,EAASA,EAAOK,QAAO,SAACF,GAAD,OAAQA,EAAGxB,KAAOA,KAEzCqB,EAAOC,GAAKG,WAEPJ,EAGT,SAASN,EAAYf,EAAIa,EAAMC,GAC7B,IAGIa,EAHAC,EAAYf,EAAKa,QAAO,SAACG,GAAD,OAAUA,EAAK7B,KAAOA,KAAI,GAChDqB,EAAM,YAAOP,GACbQ,EAAMD,EAAOE,WAAU,SAACC,GAAD,OAAQA,EAAGxB,KAAOA,KAE/C,GAAIsB,EAAM,EAAG,CACXM,EAAUH,SAAW,EACrB,IAAQL,EAA8BQ,EAA9BR,KAAMU,EAAwBF,EAAxBE,MAAO9B,EAAiB4B,EAAjB5B,GAAIyB,EAAaG,EAAbH,SACzBJ,EAAOU,KAAK,CAAEX,OAAMU,QAAO9B,KAAIyB,aAC/BE,EAAkBP,OAElBC,EAAOC,GAAKG,WACZE,EAAkBN,EAAOC,GAAKF,KAEhC,MAAO,CAAEJ,SAAUK,EAAQJ,UAAWU,GCxDjC,IAAMK,EAAcC,0BAErBC,EAAe,CACnBrB,KAAM,GACNF,SAAS,EACTG,MAAO,GACPJ,cAAc,EACdO,UAAW,IAGAkB,EAAkB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChC,EAA0BC,qBAAWhC,EAAS6B,GAA9C,mBAAOI,EAAP,KAAcC,EAAd,KAgCA,OA9BAD,EAAME,WAAa,WACjBD,EAAS,CAAE/B,KAAM,iBAGnB8B,EAAMG,aAAe,SAACrB,GACpBmB,EAAS,CAAE/B,KAAM,gBAAiBC,QAAS,CAAEW,KAAMA,MAGrDkB,EAAMpB,iBAAmB,SAACwB,GAA6B,IAArBvB,EAAoB,wDACpDoB,EAAS,CACP/B,KAAM,qBACNC,QAAS,CAAET,GAAI0C,EAAQvB,QAASA,MAIpCmB,EAAMvB,YAAc,SAACf,GACnBuC,EAAS,CAAE/B,KAAM,gBAAiBC,QAAS,CAAET,GAAIA,MAGnDsC,EAAMK,QAAU,WAAgB,IAAf9B,EAAc,uDAAP,GACtB0B,EAAS,CAAE/B,KAAM,WAAYC,QAAS,CAAEI,KAAMA,MAEhDyB,EAAMM,WAAa,WAAsB,IAArBhC,EAAoB,wDACtC2B,EAAS,CAAE/B,KAAM,cAAeC,QAAS,CAAEG,cAG7C0B,EAAMO,cAAgB,WACpBN,EAAS,CAAE/B,KAAM,oBAGZ,cAACwB,EAAYc,SAAb,CAAsBR,MAAOA,EAA7B,SAAqCF,KC3C9C,SAASW,EAAUC,GACjB,IAAQjC,EAAgBkC,qBAAWjB,GAA3BjB,YAEAf,EAAkDgD,EAAlDhD,GAAIoB,EAA8C4B,EAA9C5B,KAAM8B,EAAwCF,EAAxCE,YAAapB,EAA2BkB,EAA3BlB,MAAOqB,EAAoBH,EAApBG,gBAEtC,OACE,sBAAKrD,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKsD,IAAKD,EAAiBE,IAAKjC,MAElC,sBAAKtB,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BsB,IAC9B,4BAAI8B,OAEN,sBAAKpD,UAAU,cAAf,UACE,wBAAQA,UAAU,MAAMwD,QAAS,kBAAMvC,EAAYf,IAAnD,kDAGA,uBAAMF,UAAU,QAAQyD,MAAO,CAAEC,SAAU,UAA3C,UACG1B,EADH,gCCjBR,SAAS2B,IACP,IAAcC,EAAUT,qBAAWjB,GAA3BnB,KACR,OACE,qBAAKf,UAAU,QAAf,SACG4D,EAAMC,KAAI,SAAC9B,GACV,OAAO,cAACkB,EAAD,eAA6BlB,GAAbA,EAAK7B,SCNpC,SAAS4D,EAAKZ,GACZ,MAAiCC,qBAAWjB,GAApClB,EAAR,EAAQA,MAAO+B,EAAf,EAAeA,cACTpB,EAAWX,EAAM+C,OACvB,EAA8Bb,EAAtBc,oBAAR,MAAuB,GAAvB,EACA,OACE,sBAAKhE,UAAU,OAAOwD,QAAST,EAA/B,UACE,8BACE,mBAAG/C,UAAU,iDAAb,6BAID2B,EACC,uBAAM3B,UAAU,4CAAhB,UACGgE,EAAarC,SADhB,kBAC+BqC,EAAaC,IAD5C,0BAGE,QCfV,SAASC,EAAWhB,GAClB,MAA0CC,qBAAWjB,GAA7CjB,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,iBAEblB,EAA8BgD,EAA9BhD,GAAIoB,EAA0B4B,EAA1B5B,KAAMK,EAAoBuB,EAApBvB,SAAUK,EAAUkB,EAAVlB,MAC5B,OACE,qBAAIhC,UAAU,mBAAd,UACE,iCAAOsB,EAAP,QACA,iCACG,IACD,+BACE,mBACEtB,UAAU,iCACVwD,QAAS,WACPpC,EAAiBlB,IAHrB,6BASDyB,EAZH,gBAaE,sBACE6B,QAAS,WACPvC,EAAYf,IAFhB,SAKE,mBAAGF,UAAU,iCAAb,6BAIJ,kDAAWgC,EAAX,0BACA,iCACG,IADH,KAEI,8BAAIA,EAAQL,EAAZ,6BAGJ,mBACE3B,UAAU,uCACVwD,QAAS,WACPpC,EAAiBlB,EAAI,YAHzB,uBClCN,SAASiE,EAAWjB,GAClB,MAAsCC,qBAAWjB,GAAjD,IAAQlB,aAAR,MAAgB,GAAhB,EAAoB+B,EAApB,EAAoBA,cACpB,EAA8BG,EAAtBc,oBAAR,MAAuB,GAAvB,EAEA,OACE,qBAAIhE,UAAU,yBAAd,UACE,qBAAIA,UAAU,yBAAd,UACE,8EACA,mBACEA,UAAU,uBACVwD,QAAS,WACPT,KAHJ,sBASD/B,EAAM+C,OACL/C,EAAM6C,KAAI,SAAC9B,GACT,OAAO,cAACmC,EAAD,eAA8BnC,GAAbA,EAAK7B,OAG/B,oBAAIF,UAAU,mBAAd,4CAGF,qBAAIA,UAAU,0BAAd,wFACiB,4BAAIgE,EAAarC,WADlC,gFACiE,IAC/D,4BAAIqC,EAAaC,MAFnB,uBAGE,wBAAQjE,UAAU,kCAAlB,mGC5BR,SAASoE,IACP,MAAkCjB,qBAAWjB,GAArCf,EAAR,EAAQA,UAAWuB,EAAnB,EAAmBA,WASnB,OAPA2B,qBAAU,WACR,IAAMC,EAAUC,WAAW7B,EAAY,KAEvC,OAAO,WACL8B,aAAaF,MAEd,CAACnD,IAEF,qBAAKjB,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAQyD,MAAO,CAAEgB,QAbxB,GAaR,UACGtD,EADH,4GCPN,SAASuD,IACP,MACEvB,qBAAWjB,GADLW,EAAR,EAAQA,QAAS1B,EAAjB,EAAiBA,UAAWH,EAA5B,EAA4BA,MAAOH,EAAnC,EAAmCA,QAASiC,EAA5C,EAA4CA,WAAYlC,EAAxD,EAAwDA,aAIxDyD,qBAAU,WACRM,MCdY,yCDcG,CACbC,QAAS,CACPC,cCjBQC,yCDoBTC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAChE,GACL,IAAMmE,EAAUnE,EAAKoE,SAAStB,KAAI,SAAC9B,GACjC,OAAO,2BAAKA,GAAZ,IAAkBJ,SAAU,OAE9BkB,EAAQqC,GACRpC,GAAW,MAEZsC,OAAM,SAACC,GACNvC,GAAW,QAEd,IAEH,IAAMkB,EAAehD,EAAMsE,QACzB,SAACC,EAAK7D,GAGJ,OAFA6D,EAAI5D,WAAaD,EAAGC,SACpB4D,EAAItB,MAAQvC,EAAGC,UAAYD,EAAGM,MACvBuD,IAET,CAAE5D,SAAU,EAAGsC,IAAK,IAGtB,OACE,sBAAKjE,UAAU,oBAAf,UACGa,EAAU,cAACP,EAAD,IAAgB,cAACqD,EAAD,IAC3B,cAACG,EAAD,CAAME,aAAcA,IACnBpD,GAAgB,cAACuD,EAAD,CAAYH,aAAcA,IAC1C7C,GAAa,cAACiD,EAAD,OE9BLoB,MAZf,WACE,OACE,mCACE,eAAC,EAAD,WACE,cAACzF,EAAD,IACA,cAAC2E,EAAD,IACA,cAACvE,EAAD,UCNRsF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e66d3012.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <nav className=\"green darken-1\">\r\n      <div className=\"nav-wrapper\">\r\n        <a\r\n          href=\"https:///rddeveloper2019.github.io/react-shop-fortnite\"\r\n          className=\"brand-logo\"\r\n        >\r\n          Fortnite Shop\r\n        </a>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"https://github.com/rddeveloper2019/react-shop-fortnite\">\r\n              Repo\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport { Header };\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"page-footer green lighten-4\">\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          © {new Date().getFullYear()} Copyright Text\r\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\r\n            Repo\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport { Footer };\r\n","function Preloader() {\r\n  return (\r\n    <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n    </div>\r\n  );\r\n}\r\nexport { Preloader };\r\n","export function reducer(state, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case 'SET_BASKETSHOW':\r\n      return {\r\n        ...state,\r\n        isBasketShow: !state.isBasketShow,\r\n      };\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: payload.current };\r\n    case 'SET_DATA':\r\n      return { ...state, data: payload.data || [] };\r\n    case 'ADD_TO_BASKET':\r\n      return {\r\n        ...state,\r\n        order: addToBasket(payload.id, state.data, state.order).newOrder,\r\n        alertName: addToBasket(payload.id, state.data, state.order).alertName,\r\n      };\r\n    case 'REMOVE_FROM_BASKET':\r\n      return {\r\n        ...state,\r\n        order: removeFromBasket(payload.id, state.order, payload.totally),\r\n      };\r\n    case 'SET_ALERTNAME':\r\n      return { ...state, alertName: payload.name };\r\n    case 'CLOSE_ALERT':\r\n      return { ...state, alertName: '' };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction removeFromBasket(id, order, totally = false) {\r\n  let newArr = [...order];\r\n  const idx = newArr.findIndex((el) => el.id === id);\r\n\r\n  if (totally || newArr[idx].quantity === 1) {\r\n    newArr = newArr.filter((el) => el.id !== id);\r\n  } else {\r\n    newArr[idx].quantity--;\r\n  }\r\n  return newArr;\r\n}\r\n\r\nfunction addToBasket(id, data, order) {\r\n  let foundItem = data.filter((item) => item.id === id)[0];\r\n  const newArr = [...order];\r\n  const idx = newArr.findIndex((el) => el.id === id);\r\n  let orderedItemName;\r\n  if (idx < 0) {\r\n    foundItem.quantity = 1;\r\n    const { name, price, id, quantity } = foundItem;\r\n    newArr.push({ name, price, id, quantity });\r\n    orderedItemName = name;\r\n  } else {\r\n    newArr[idx].quantity++;\r\n    orderedItemName = newArr[idx].name;\r\n  }\r\n  return { newOrder: newArr, alertName: orderedItemName };\r\n}\r\n","import { createContext, useReducer } from 'react';\r\nimport { reducer } from './reducer';\r\n\r\nexport const ShopContext = createContext();\r\n\r\nconst initialState = {\r\n  data: [],\r\n  loading: true,\r\n  order: [],\r\n  isBasketShow: false,\r\n  alertName: '',\r\n};\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [value, dispatch] = useReducer(reducer, initialState);\r\n\r\n  value.closeAlert = () => {\r\n    dispatch({ type: 'CLOSE_ALERT' });\r\n  };\r\n\r\n  value.setAlertName = (name) => {\r\n    dispatch({ type: 'SET_ALERTNAME', payload: { name: name } });\r\n  };\r\n\r\n  value.removeFromBasket = (itemId, totally = false) => {\r\n    dispatch({\r\n      type: 'REMOVE_FROM_BASKET',\r\n      payload: { id: itemId, totally: totally },\r\n    });\r\n  };\r\n\r\n  value.addToBasket = (id) => {\r\n    dispatch({ type: 'ADD_TO_BASKET', payload: { id: id } });\r\n  };\r\n\r\n  value.setData = (data = []) => {\r\n    dispatch({ type: 'SET_DATA', payload: { data: data } });\r\n  };\r\n  value.setLoading = (current = false) => {\r\n    dispatch({ type: 'SET_LOADING', payload: { current } });\r\n  };\r\n\r\n  value.setBasketShow = () => {\r\n    dispatch({ type: 'SET_BASKETSHOW' });\r\n  };\r\n\r\n  return <ShopContext.Provider value={value}>{children}</ShopContext.Provider>;\r\n};\r\n","import { ShopContext } from '../context.js';\r\nimport { useContext } from 'react';\r\n\r\nfunction GoodsItem(props) {\r\n  const { addToBasket } = useContext(ShopContext);\r\n\r\n  const { id, name, description, price, full_background } = props;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-image\">\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button className=\"btn\" onClick={() => addToBasket(id)}>\r\n          Купить\r\n        </button>\r\n        <span className=\"right\" style={{ fontSize: '1.8rem' }}>\r\n          {price} руб.\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport { GoodsItem };\r\n","import { GoodsItem } from './GoodsItem';\r\nimport { ShopContext } from '../context.js';\r\nimport { useContext } from 'react';\r\n\r\nfunction GoodList() {\r\n  const { data: goods } = useContext(ShopContext);\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => {\r\n        return <GoodsItem key={item.id} {...item} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\nexport { GoodList };\r\n","import { useContext } from 'react';\r\nimport { ShopContext } from '../context.js';\r\n\r\nfunction Cart(props) {\r\n  const { order, setBasketShow } = useContext(ShopContext);\r\n  const quantity = order.length;\r\n  const { orderDetails = {} } = props;\r\n  return (\r\n    <div className=\"cart\" onClick={setBasketShow}>\r\n      <div>\r\n        <i className=\"large material-icons blue darken-4 yellow-text\">\r\n          shopping_cart\r\n        </i>\r\n      </div>\r\n      {quantity ? (\r\n        <span className=\"basket-quantity blue darken-4 yellow-text\">\r\n          {orderDetails.quantity} шт- {orderDetails.sum} руб.\r\n        </span>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\nexport { Cart };\r\n","import React, { useContext } from 'react';\r\nimport { ShopContext } from '../context';\r\n\r\nfunction BasketItem(props) {\r\n  const { addToBasket, removeFromBasket } = useContext(ShopContext);\r\n\r\n  const { id, name, quantity, price } = props;\r\n  return (\r\n    <li className=\"collection-item \">\r\n      <span>{name}: </span>\r\n      <span>\r\n        {' '}\r\n        <span>\r\n          <i\r\n            className=\"material-icons basket-quantity\"\r\n            onClick={() => {\r\n              removeFromBasket(id);\r\n            }}\r\n          >\r\n            remove_circle\r\n          </i>\r\n        </span>\r\n        {quantity}шт.\r\n        <span\r\n          onClick={() => {\r\n            addToBasket(id);\r\n          }}\r\n        >\r\n          <i className=\"material-icons basket-quantity\">add_circle</i>\r\n        </span>\r\n      </span>\r\n\r\n      <span> по {price} руб.</span>\r\n      <span>\r\n        {' '}\r\n        = <b>{price * quantity} руб.</b>\r\n      </span>\r\n\r\n      <i\r\n        className=\"material-icons right basket-quantity\"\r\n        onClick={() => {\r\n          removeFromBasket(id, 'totally');\r\n        }}\r\n      >\r\n        delete\r\n      </i>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { BasketItem };\r\n","import { BasketItem } from './BasketItem';\r\nimport { ShopContext } from '../context.js';\r\nimport { useContext } from 'react';\r\n\r\nfunction BasketList(props) {\r\n  const { order = [], setBasketShow } = useContext(ShopContext);\r\n  const { orderDetails = {} } = props;\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active\">\r\n        <span>Корзина</span>\r\n        <i\r\n          className=\"material-icons right\"\r\n          onClick={() => {\r\n            setBasketShow();\r\n          }}\r\n        >\r\n          close\r\n        </i>\r\n      </li>\r\n      {order.length ? (\r\n        order.map((item) => {\r\n          return <BasketItem key={item.id} {...item} />;\r\n        })\r\n      ) : (\r\n        <li className=\"collection-item \">Пусто</li>\r\n      )}\r\n\r\n      <li className=\"collection-item  active\">\r\n        Всего товаров: <b>{orderDetails.quantity}</b> шт. Общая сумма:{' '}\r\n        <b>{orderDetails.sum}</b> руб.\r\n        <button className=\"secondary-content btn btn-small\">\r\n          Оформить заказ\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\nexport { BasketList };\r\n","import { useEffect, useContext } from 'react';\r\nimport { ShopContext } from '../context.js';\r\n\r\nlet opacity = 1;\r\nfunction Alert() {\r\n  const { alertName, closeAlert } = useContext(ShopContext);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 2000);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n  }, [alertName]);\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\" style={{ opacity: opacity }}>\r\n        {alertName} добавлен в корзину!\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport { Alert };\r\n","import { useEffect, useContext } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport { Preloader } from './Preloader';\r\nimport { GoodList } from './GoodList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketList';\r\nimport { Alert } from './Alert';\r\nimport { ShopContext } from '../context.js';\r\n\r\nfunction Shop() {\r\n  const { setData, alertName, order, loading, setLoading, isBasketShow } =\r\n    useContext(ShopContext);\r\n\r\n  //^EFFECT\r\n  useEffect(function fetchData() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const newData = data.featured.map((item) => {\r\n          return { ...item, quantity: 0 };\r\n        });\r\n        setData(newData);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const orderDetails = order.reduce(\r\n    (acc, el) => {\r\n      acc.quantity += +el.quantity;\r\n      acc.sum += +el.quantity * +el.price;\r\n      return acc;\r\n    },\r\n    { quantity: 0, sum: 0 }\r\n  );\r\n\r\n  return (\r\n    <div className=\"container content\">\r\n      {loading ? <Preloader /> : <GoodList />}\r\n      <Cart orderDetails={orderDetails} />\r\n      {isBasketShow && <BasketList orderDetails={orderDetails} />}\r\n      {alertName && <Alert />}\r\n    </div>\r\n  );\r\n}\r\nexport { Shop };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\nimport { ContextProvider } from './context';\n\nfunction App() {\n  return (\n    <>\n      <ContextProvider>\n        <Header />\n        <Shop />\n        <Footer />\n      </ContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}